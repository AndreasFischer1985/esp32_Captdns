<!DOCTYPE html>
<html>
<body>
<h1>Hello world, this is ESP32!</h1>
<p>Feel free to click the button.</p>
<a id="myEffect" href="/?state=unknown">
<button id="myButton" class="button">Green Button</button>
</a>

<script>
    var x = document.getElementById("myButton");
    var y = document.getElementById("myEffect");
    var z = window.location.href;
    var regex = new RegExp('[?]state=green');
    x.innerHTML=regex.exec(z);
	if(regex.exec(z)=="?state=green") { x.className="button";  x.innerHTML="Green Button"; y.setAttribute('href','/?state=red');  } else
    if(regex.exec(z)!="?state=green") { x.className="button2"; x.innerHTML="Red Button"; y.setAttribute('href','/?state=green');  }
</script>

<style>
	.button {
  		background-color: green;
		border-radius: 10px; 
		border: none;
  		color: black;
	}
	.button2 {
  		background-color: red;
		border-radius: 10px; 
		border: none;
  		color: black;
	}
</style>
</body>
</html>
